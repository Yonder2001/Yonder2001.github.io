"0","#Dataset 1"
"0","library(tidyverse)"
"0","library(plotly)"
"0","library(ggplot2)"
"0","LS_Summery <- read.csv(""C:/Users/ouyangshuting/Desktop/NM2207/Yonder2001.github.io/Data/Happiness Score 2019-2024 .csv"")"
"0",""
"0","#Tidying LS_Summery"
"0","LS_Summery_long <- LS_Summery %>% "
"0","  pivot_longer(cols = c(-Country), names_to = ""Years"",values_to = ""Ladder Score"")"
"0",""
"0","Tidy_LS_Summery <- LS_Summery_long %>% "
"0","  pivot_wider(names_from = Country, values_from = ""Ladder Score"")"
"0",""
"0",""
"0","#Tidying HR_Summery"
"0","HR_Summery<-read.csv(""C:/Users/ouyangshuting/Desktop/NM2207/Yonder2001.github.io/Data/Happiness Ranking 2019-2024.csv"")"
"0",""
"0","HR_Summery_long <- HR_Summery %>% "
"0","  pivot_longer(cols = c(-Country), names_to = ""Years"",values_to = ""Happiness Rank"")"
"0",""
"0","Tidy_HR_Summery <- HR_Summery_long %>% "
"0","  pivot_wider(names_from = Country, values_from = ""Happiness Rank"")"
"0",""
"0","#Muate Variance "
"0","HR_Summery_long <- HR_Summery_long %>%"
"0","  group_by(Country) %>%"
"0","  mutate(variance = var(`Happiness Rank`))"
"0",""
"0","LS_Summery_long <- LS_Summery_long %>%"
"0","  group_by(Country) %>%"
"0","  mutate(variance = var(`Ladder Score`))"
"0",""
"0","#Check Variance "
"0","HR_BigVariance <- HR_Summery_long %>%"
"0","  filter(variance > 100)"
"0","HR_Unchange <- HR_Summery_long %>%"
"0","  filter(variance <20)"
"0","LS_BigVariance <- LS_Summery_long %>%"
"0","  filter(variance > 0.1)"
"0","LS_Unchange <- LS_Summery_long %>%"
"0","  filter(variance <0.003)"
"0",""
"0","#DataSet 2"
"0","Full_Report_of_Factors <-read.csv(""C:/Users/ouyangshuting/Desktop/NM2207/Yonder2001.github.io/Data/Final_Happiness_Score.csv"")"
"0",""
"0","Health <- Full_Report_of_Factors[, c(""Country"",""Health.Life.Expectancy_2019"",""Health.Life.Expectancy_2020"",""Health.Life.Expectancy_2021"",""Health.Life.Expectancy_2022"",""Health.Life.Expectancy_2023"",""Health.Life.Expectancy_2024"")]"
"0",""
"0","#Tidying DATA of 6 factors"
"0","GDP_long <- Full_Report_of_Factors %>%"
"0","  pivot_longer(cols = starts_with(""GDP""), names_to = ""Years"", values_to = ""GDP per capita"")"
"0","GDP_long <-GDP_long[,c(""Country"",""Years"",""GDP per capita"")]"
"0","  "
"0","SS_long <-Full_Report_of_Factors %>%"
"0","  pivot_longer(cols = starts_with(""Social""), names_to = ""Years"", values_to = ""Social Support"")"
"0","SS_long <-SS_long[,c(""Country"",""Years"",""Social Support"")]"
"0",""
"0","Health_long <- Full_Report_of_Factors %>%"
"0","  pivot_longer(cols = starts_with(""Health""), names_to = ""Years"", values_to = ""Health Life Expectancy"")"
"0","Health_long <-Health_long[,c(""Country"",""Years"",""Health Life Expectancy"")]"
"0",""
"0","Freedom_long <- Full_Report_of_Factors %>%"
"0","  pivot_longer(cols = starts_with(""Freedom""), names_to = ""Years"", values_to = ""Freedom in Life"")"
"0","Freedom_long <-Freedom_long[,c(""Country"",""Years"",""Freedom in Life"")]"
"0",""
"0","Generosity_long <- Full_Report_of_Factors %>%"
"0","  pivot_longer(cols = starts_with(""Generosity""), names_to = ""Years"", values_to = ""Generosity"")"
"0","Generosity_long <- Generosity_long[,c(""Country"",""Years"",""Generosity"")]"
"0",""
"0","Corroption_long <- Full_Report_of_Factors %>%"
"0","  pivot_longer(cols = starts_with(""Perceptions""), names_to = ""Years"", values_to = ""Perceptions of corruption"")"
"0","Corroption_long <- Corroption_long[,c(""Country"",""Years"",""Perceptions of corruption"")]"
"0",""
"0","#Combine"
"0","Summery_Factors <- bind_rows("
"0","  GDP_long,"
"0","  SS_long,"
"0","  Health_long,"
"0","  Freedom_long,"
"0","  Generosity_long,"
"0","  Corroption_long"
"0",") "
"0","Summery_Factors <- Summery_Factors %>%"
"0","  mutate(Years = str_replace(Years, "".*_(\\d+)$"", ""\\1""))"
"0",""
"0","#NA omit removes NA, ""."" means check every row every column "
"0","Summery_Factors <- Summery_Factors %>% group_by(Country, Years) %>% summarise_all(~ na.omit(.))"
"0",""
"0",""
